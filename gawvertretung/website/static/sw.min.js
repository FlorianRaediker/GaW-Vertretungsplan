'use strict';var b=b||{};b.scope={};b.arrayIteratorImpl=function(a){var d=0;return function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}}};b.arrayIterator=function(a){return{next:b.arrayIteratorImpl(a)}};b.ASSUME_ES5=!1;b.ASSUME_NO_NATIVE_MAP=!1;b.ASSUME_NO_NATIVE_SET=!1;b.SIMPLE_FROUND_POLYFILL=!1;b.ISOLATE_POLYFILLS=!1;
b.defineProperty=b.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,c){if(a==Array.prototype||a==Object.prototype)return a;a[d]=c.value;return a};b.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var d=0;d<a.length;++d){var c=a[d];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};b.global=b.getGlobal(this);
b.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");b.TRUST_ES6_POLYFILLS=!b.ISOLATE_POLYFILLS||b.IS_SYMBOL_NATIVE;b.polyfills={};b.propertyToPolyfillSymbol={};b.POLYFILL_PREFIX="$jscp$";b.polyfill=function(a,d,c,e){d&&(b.ISOLATE_POLYFILLS?b.polyfillIsolated(a,d,c,e):b.polyfillUnisolated(a,d,c,e))};
b.polyfillUnisolated=function(a,d){var c=b.global;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];if(!(f in c))return;c=c[f]}a=a[a.length-1];e=c[a];d=d(e);d!=e&&null!=d&&b.defineProperty(c,a,{configurable:!0,writable:!0,value:d})};
b.polyfillIsolated=function(a,d,c){var e=a.split(".");a=1===e.length;var f=e[0];f=!a&&f in b.polyfills?b.polyfills:b.global;for(var g=0;g<e.length-1;g++){var h=e[g];if(!(h in f))return;f=f[h]}e=e[e.length-1];c=b.IS_SYMBOL_NATIVE&&"es6"===c?f[e]:null;d=d(c);null!=d&&(a?b.defineProperty(b.polyfills,e,{configurable:!0,writable:!0,value:d}):d!==c&&(b.propertyToPolyfillSymbol[e]=b.IS_SYMBOL_NATIVE?b.global.Symbol(e):b.POLYFILL_PREFIX+e,e=b.propertyToPolyfillSymbol[e],b.defineProperty(f,e,{configurable:!0,
writable:!0,value:d})))};b.initSymbol=function(){};b.initSymbolIterator=function(){};b.initSymbolAsyncIterator=function(){};b.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
b.polyfill("String.prototype.matchAll",function(a){return a?a:function(a){if(a instanceof RegExp&&!a.global)throw new TypeError("RegExp passed into String.prototype.matchAll() must have global tag.");var c=new RegExp(a,a instanceof RegExp?void 0:"g"),d=this,f=!1,g={next:function(){var a={},e=c.lastIndex;if(f)return{value:void 0,done:!0};var g=c.exec(d);if(!g)return f=!0,{value:void 0,done:!0};c.lastIndex===e&&(c.lastIndex+=1);a.value=g;a.done=!1;return a}};g[Symbol.iterator]=function(){return g};
return g}},"es_2020","es3");self.addEventListener("activate",a=>{a.waitUntil(()=>{})});self.addEventListener("fetch",function(){});
self.addEventListener("push",a=>{const d=a.data.json();try{let [,a,e,h,k,l]=d.status.match(/(\d\d).(\d\d).(\d\d\d\d) (\d\d):(\d\d)/);var c=Date.UTC(h,e,a,k,l)}catch(f){console.error(f),c=null}c={icon:"favicon.ico",badge:"favicon-96-monochrome.png",lang:"de",timestamp:c,vibrate:[300,100,400],data:{url:(new URL("/"+d.plan_type+"/",self.location.origin)).href}};let e;if(1===Object.keys(d.affected_groups_by_day).length)e=Object.keys(d.affected_groups_by_day)[0]+": Neue Vertretungen f\u00fcr "+Object.values(d.affected_groups_by_day)[0].join(", ");
else{e="Neue Vertretungen";let a="";for(let [c,e]of Object.entries(d.affected_groups_by_day))a+=c+": "+e.join(", ")+"\n";c.body=a}a.waitUntil(self.registration.showNotification(e,c))});
self.addEventListener("notificationclick",a=>{a.notification.close();a.waitUntil(self.clients.matchAll({type:"window"}).then(function(d){for(let c of d)if(c.url.split("?")[0]===a.notification.data.url&&"focus"in c)return c.focus();if(self.clients.openWindow)return self.clients.openWindow(a.notification.data.url).then(a=>a.focus())}));self.registration.getNotifications().then(a=>{a.forEach(a=>a.close())})});//# sourceMappingURL=sw.min.js.map
